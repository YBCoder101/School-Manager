<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Page -->
    <div id="loginContainer" class="login-container">
        <div class="login-box">
            <div class="login-header">
                <i class="fas fa-school fa-3x"></i>
                <h2>School Management System</h2>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="email" required placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="password" required placeholder="Enter your password">
                </div>
                <div class="form-group">
                    <label for="role"><i class="fas fa-user-tag"></i> Login as</label>
                    <select id="role" required>
                        <option value="">Select role</option>
                        <option value="admin">Administrator</option>
                        <option value="principal">Principal</option>
                        <option value="teacher">Teacher</option>
                        <option value="parent">Parent</option>
                        <option value="student">Student</option>
                    </select>
                </div>
                <button type="submit" class="btn-login">Login</button>
            </form>
            <div id="loginError" class="login-error"></div>
        </div>
    </div>

    <!-- Main Application Container (hidden until login) -->
    <div id="appContainer" class="app-container" style="display: none;">
        <div class="container">
            <!-- Dynamic Sidebar based on role -->
            <nav class="sidebar" id="sidebar">
                <!-- Sidebar content will be dynamically generated -->
            </nav>

            <!-- Main Content Area -->
            <main class="main-content">
                <!-- Header with role-specific actions -->
                <header class="header">
                    <div class="header-left">
                        <h1 id="page-title">Dashboard</h1>
                        <span class="role-badge" id="roleBadge"></span>
                    </div>
                    <div class="header-actions">
                        <div class="user-menu">
                            <span id="userDisplayName"></span>
                            <button id="logoutBtn" class="btn-logout">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>
                </header>

                <!-- Dynamic Content Container -->
                <div id="dynamicContent">
                    <!-- Content will be loaded based on role and selected tab -->
                </div>
            </main>
        </div>
    </div>

    <!-- Templates for different dashboards (hidden) -->
    <div id="templates" style="display: none;">
        <!-- Admin Dashboard Template -->
        <div id="adminDashboardTemplate">
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-user-graduate stat-icon"></i>
                    <div class="stat-info">
                        <h3>Total Students</h3>
                        <p id="totalStudents">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chalkboard-teacher stat-icon"></i>
                    <div class="stat-info">
                        <h3>Total Teachers</h3>
                        <p id="totalTeachers">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-book stat-icon"></i>
                    <div class="stat-info">
                        <h3>Active Classes</h3>
                        <p id="totalClasses">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-dollar-sign stat-icon"></i>
                    <div class="stat-info">
                        <h3>Monthly Revenue</h3>
                        <p id="monthlyRevenue">$0</p>
                    </div>
                </div>
            </div>
            <div class="admin-sections">
                <div class="section-card">
                    <h3>Pending Approvals</h3>
                    <div id="pendingApprovals"></div>
                </div>
                <div class="section-card">
                    <h3>Recent Activities</h3>
                    <div id="adminActivities"></div>
                </div>
            </div>
        </div>

        <!-- Teacher Dashboard Template -->
        <div id="teacherDashboardTemplate">
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-users stat-icon"></i>
                    <div class="stat-info">
                        <h3>My Students</h3>
                        <p id="myStudentsCount">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-book-open stat-icon"></i>
                    <div class="stat-info">
                        <h3>My Classes</h3>
                        <p id="myClassesCount">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tasks stat-icon"></i>
                    <div class="stat-info">
                        <h3>Pending Grades</h3>
                        <p id="pendingGradesCount">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-check stat-icon"></i>
                    <div class="stat-info">
                        <h3>Today's Classes</h3>
                        <p id="todayClasses">0</p>
                    </div>
                </div>
            </div>
            
            <div class="teacher-sections">
                <div class="section-card">
                    <h3>My Classes</h3>
                    <div class="class-list" id="teacherClassList"></div>
                </div>
                <div class="section-card">
                    <h3>Recent Grades Entered</h3>
                    <div id="recentGrades"></div>
                </div>
                <div class="section-card">
                    <h3>Schedule</h3>
                    <div id="teacherSchedule"></div>
                </div>
            </div>
        </div>

        <!-- Parent Dashboard Template -->
        <div id="parentDashboardTemplate">
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-child stat-icon"></i>
                    <div class="stat-info">
                        <h3>My Children</h3>
                        <p id="childrenCount">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-star stat-icon"></i>
                    <div class="stat-info">
                        <h3>Average Grade</h3>
                        <p id="childrenAvgGrade">0%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-bell stat-icon"></i>
                    <div class="stat-info">
                        <h3>Notifications</h3>
                        <p id="notificationCount">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-alt stat-icon"></i>
                    <div class="stat-info">
                        <h3>Upcoming Events</h3>
                        <p id="upcomingEvents">0</p>
                    </div>
                </div>
            </div>

            <div class="parent-sections">
                <div class="section-card">
                    <h3>My Children's Progress</h3>
                    <div id="childrenProgress"></div>
                </div>
                <div class="section-card">
                    <h3>Recent Announcements</h3>
                    <div id="schoolAnnouncements"></div>
                </div>
                <div class="section-card">
                    <h3>Upcoming Parent-Teacher Meetings</h3>
                    <div id="parentMeetings"></div>
                </div>
            </div>
        </div>

        <!-- Student Dashboard Template -->
        <div id="studentDashboardTemplate">
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-star stat-icon"></i>
                    <div class="stat-info">
                        <h3>My Average</h3>
                        <p id="myAvgGrade">0%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-book stat-icon"></i>
                    <div class="stat-info">
                        <h3>Classes</h3>
                        <p id="myClassesCount">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tasks stat-icon"></i>
                    <div class="stat-info">
                        <h3>Assignments</h3>
                        <p id="pendingAssignments">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock stat-icon"></i>
                    <div class="stat-info">
                        <h3>Attendance</h3>
                        <p id="attendanceRate">0%</p>
                    </div>
                </div>
            </div>

            <div class="student-sections">
                <div class="section-card">
                    <h3>My Grades</h3>
                    <div id="myGrades"></div>
                </div>
                <div class="section-card">
                    <h3>Upcoming Assignments</h3>
                    <div id="upcomingAssignments"></div>
                </div>
                <div class="section-card">
                    <h3>Class Schedule</h3>
                    <div id="classSchedule"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>